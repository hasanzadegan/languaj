<div oc-lazy-load="['js/header/header.js']">
    <div ng-controller="headerController" layout="row" layout-wrap="">
        <div flex="100" layout="row" layout-align="center center">
            <img ng-src="{{current.profile.imageUrl}}"
                 ng-dblclick="showTeacherList=!showTeacherList"
                 style="border-radius: 50px;height: 50px;padding: 5px"/>
            <div layout-padding="" flex="">
                {{current.profile.firstName +' '
                +current.profile.lastName}}
            </div>
            <div>
                <div flex="20" layout="row" ng-show="current.selectedCourse">
                    <div>
                        <md-menu flex="10">
                            <md-button ng-click="$mdMenu.open()">
                                <div class="flagBar Flag{{current.selectedCourse.sourceLangId}}"></div>
                            </md-button>
                            <md-menu-content width="4" ng-mouseleave="$mdMenu.close()">
                                <md-menu-item layout="row" ng-repeat="lang in langList" layout-padding=""
                                              ng-click="updateCourseLang(
                                          current.selectedCourse,
                                          lang.langId,
                                          current.selectedCourse.destLangId)">
                                    <md-button>
                                        {{lang.title}}
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </div>
                    <div>
                        <md-menu flex="10">
                            <md-button ng-click="$mdMenu.open()">
                                <div class="flagBar Flag{{current.selectedCourse.destLangId}}"></div>
                            </md-button>
                            <md-menu-content width="4" ng-mouseleave="$mdMenu.close()">
                                <md-menu-item layout="row" ng-repeat="lang in langList" layout-padding=""
                                              ng-click="updateCourseLang(
                                          current.selectedCourse,
                                          current.selectedCourse.sourceLangId,
                                          lang.langId)">
                                    <md-button>
                                        {{lang.title}}
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </div>
                </div>
            </div>
        </div>
        <small style="padding-left: 10px;font-weight: lighter;font-size: 10px" layout="row">
            <md-button flex
                       style="font-size: 8px !important;"
                       ngclipboard
                       data-clipboard-text="{{__path+'/web/student.html?course='+current.selectedCourse.courseCode+'&ref='+current.profile.ref}}"
                       flex=""
            >
                <md-icon md-svg-src="img/app/share.svg" style="max-height: 20px !important;"></md-icon>
                {{__path+'/web/student.html?course='+current.selectedCourse.courseCode+'&ref='+current.profile.ref}}
            </md-button>
        </small>
        <div class="hScroll" ng-show="showTeacherList" style="border-bottom: solid 1px rgba(0,0,0,0.12)" layout="row"
             flex="100">
            <div layout="row" flex="100" class="teacherList">
                <md-button ng-repeat="teacher in current.teacherList|filter:teacherSearch"
                           ng-click="impersonate(teacher)">
                    <img ng-src="{{teacher.imageUrl}}"
                         class="nounFilter"
                         title="{{teacher.firstName}} {{teacher.lastName}}"
                         style="height: 50px;border-radius: 50px;{{current.impersonateUser.userId===teacher.userId?'border:solid 3px #445':''}}">
                </md-button>
            </div>
            <md-button class="md-icon-button" ng-click="clearImpersonate()">
                <md-icon>clear</md-icon>
            </md-button>
        </div>
        <div flex="100" layout="row" class="headTitle md-button" >
            <md-button class="md-icon-button" flex="10" ng-click="showCourseList('courseSetting')">
                <md-icon>chevron_left</md-icon>
            </md-button>
            <div title="{{current.selectedCourse}}">{{current.selectedCourse.title}}</div>
            <div layout-padding="">/</div>
            <div layout="row">
                <div>
                    {{current.selectedCourse.selectedLesson.title}}
                </div>
                <div>/</div>
                <div>
                    {{current.selectedCourse.selectedLesson.selectedTopic.title}}
                </div>
            </div>
            <div>
                <md-button ng-click="showTopicImage=!showTopicImage" >
                   <img
                           ng-if="current.selectedCourse.selectedLesson.selectedTopic.imageId"
                           src="/api/media/{{current.selectedCourse.selectedLesson.selectedTopic.imageId}}" height="32px"/>

                    <md-icon
                            ng-if="!current.selectedCourse.selectedLesson.selectedTopic.imageId"
                     md-svg-src="img/upload.svg">
                    </md-icon>
                </md-button>
            </div>
        </div>
        <div flex="100" class="topicImage" ng-if="showTopicImage" layout-padding="">
                <input type="file" id="file1" name="file" multiple ng-files="uploadTopicImage($files)"/>
                <img ng-src="/api/media/{{img}}" width="90px" ng-click="uplaodFiles(img)"/>
        </div>

        <div ng-show="current.selectedCourse.selectedLesson.selectedTopic">
            <md-button ng-show="!current.showTeach" ng-click="addLevel('newLevel')">
                <md-icon>add_box</md-icon>
                Add Quizlet
            </md-button>
        </div>
    </div>
</div>
